# 90. Subsets II
[https://leetcode.com/problems/subsets-ii/description/](https://leetcode.com/problems/subsets-ii/description/)

## Key
统计每个元素出现的个数，然后在递归的时候可以选择添加“1～出现个数” 这个元素

## Code
```
class Solution {
    List<List<Integer>> ans = new ArrayList<>();
    Map<Integer, Integer> hsmap = new HashMap<>();
       
    public void findSets(int[][] map, List<Integer> set, int index){ //index 是进入这层之后从第几位开始看
        ans.add(new ArrayList<>(set));
        if (index == map.length) return;
                
        for (int i = index; i < map.length; i++){
            List<Integer> setCopy = new ArrayList<>(set);
            for (int j = 1; j <= map[i][1]; j++){
                setCopy.add(map[i][0]);
                findSets(map, setCopy, i+1);
            }
        }        
    }
    
    public List<List<Integer>> subsetsWithDup(int[] nums) { 
        for (int x : nums){
            if (!hsmap.containsKey(x)){
                hsmap.put(x,1);
            }
            else hsmap.put(x,hsmap.get(x)+1);
        }
         int[][] map = new int[hsmap.size()][2];
        
        int i = 0;
        for (int x: hsmap.keySet()){
            map[i][0] = x;
            map[i][1] = hsmap.get(x);
            i++;
        }
        List<Integer> nullSet= new ArrayList<>();
        findSets(map, nullSet, 0);
        return ans;
    }
}
```
