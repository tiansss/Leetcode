# 388. Longest Absolute File Path(Medium)
[https://leetcode.com/problems/longest-absolute-file-path/description/](https://leetcode.com/problems/longest-absolute-file-path/description/)
 
 A disgusting problem. I hate it!!!!!
 
 ```
class Solution {
    public int lengthLongestPath(String input) {
       	String[] str = input.split("\n");  
        Stack <Integer> stack=new Stack<>();   //record the level
		Map<Integer, Integer> map = new HashMap<>();     //record the string length corresponding the related level
	
        stack.push(-1); //prevent stack empty exception
        int maxlen=0;  
		
        for (String s:str) {    //scan every string split by \n
			int level = s.length() - s.replace("\t", "").length();  //caculate the level
          
			 if (level>stack.peek()) {  //can directly push the level into stack
				stack.push(level);
				map.put(level, s.length()-level+1);  //need to remove the \t and add the backslash before the string
			 }
			 else {
				while (level<=stack.peek()){  //pop until find the position for this level
					map.put(stack.peek(),0);   //clear the corresponding length to 0
					stack.pop();
				}
			    stack.push(level);     
			    map.put(level,s.length()-level+1);
			}
            
            if (s.contains(".")) {  //find a file and add all lengths together
					int sum=0;
					for (int l:map.values()) {  
						sum+=l;            
					}
                    sum--; //the first string doesn't have the backslash
					maxlen=Math.max(maxlen, sum);
			}        		
		}		
		return maxlen;
    }
}
```
